-- creation of tables
--drop all tables --
drop table 	u_address	cascade constraints;
drop table 	u_login	cascade constraints;
drop table 	telephone	cascade constraints;
drop table 	product	cascade constraints;
drop table 	bank	cascade constraints;
drop table 	banking_user_add	cascade constraints;
drop table 	stock_warehouse	cascade constraints;
drop table 	stores	cascade constraints;
drop table 	purchase	cascade constraints;
drop table 	users_banking_details	cascade constraints;
drop table 	users	cascade constraints; 

create table users 
(
 users_id number(6) generated by default on null as identity start with 6 primary key,
 fname varchar2(50),
 lname varchar2(50),
 dob date,
 admin_status char(1)

);

create table u_address 
(
 address_id number(6) generated by default on null as identity start with 5 primary key,
 address varchar2(95), 
 users_id number(6), 
 constraint fk_users_id foreign key (users_id) references users(users_id)
 on delete cascade 
);

create table u_login 
(
 login_id number(7) generated by default on null as identity start with 6 primary key,
 email varchar2(128)not null,
 p_word varchar2(128), 
 users_id number(6),
 constraint fk_lusers_id foreign key (users_id)
 references users(users_id)
 on delete cascade 
);

create table telephone
(
 tel_id number(6) generated by default on null as identity start with 6 primary key,
 tel_num1 varchar2(10),
 tel_num2 varchar2(10),
 users_id number(6),
 constraint fk_tusers_id foreign key (users_id)
 references users(users_id)
 on delete cascade 
);

create table product 
(
 product_id number(7) generated by default on null as identity primary key,
 product_name varchar2(128), 
 product_type varchar2(50), 
 product_cost number(38), 
 product_description varchar2(128)
);

create table stock_warehouse 
(
 stock_id number(6) generated by default on null as identity primary key ,
 stock_product_qtty varchar2(3)check(stock_product_qtty>='0'),
 product_id number(7),
 constraint fk_stproduct_id foreign key (product_id) references product(product_id)on delete cascade 
 
);
create table stores 
(
 store_id number(7) generated by default on null as identity primary key,
 store_pr_id varchar2(7),
 store_name varchar2 (50), 
 stock_location varchar2(50),
 store_stock varchar2 (3)check (store_stock>='0'),
 product_id varchar2(7),
 stock_id number(6),
 constraint fk_stock_id foreign key (stock_id) references stock_warehouse(stock_id) on delete cascade 
 
);

create table purchase 
(
 purchase_id number(6) generated by default on null as identity start with 6 primary key,
 qtty_pur number (7),
 total number (38),
 product_id number(7),
 store_id number(7),
 users_id number(6),
 constraint fk_store_id foreign key (store_id) references stores(store_id)on delete cascade ,
 constraint fk_pusers_id foreign key (users_id) references users(users_id)on delete cascade ,
 constraint fk_pproduct_id foreign key (product_id) references product(product_id)on delete cascade 
);



create table bank
(
 bank_id number(6) generated by default on null as identity start with 5 primary key ,
 sort_code varchar2(6),
 bank_name varchar2(50)
);

create table banking_user_add 
(
 bank_user_add_id number(7) generated by default on null as identity start with 5 primary key ,
 baddress varchar2(95) 
 ); 	 	

create table users_banking_details 
(
 acc_id number(7) generated by default on null as identity start with 5 primary key ,
 account_number varchar2 (16), 
 users_id number(6),
 bfname varchar2(50),
 blname varchar2(50),
 bank_user_add_id number(7),
 bank_id number(6) ,
 constraint fk_busers_id foreign key (users_id) references users(users_id)on delete cascade ,
 constraint fk_bank_user_add_id foreign key (bank_user_add_id) references banking_user_add(bank_user_add_id)on delete cascade ,
 constraint fk_bank_id foreign key (bank_id) references bank(bank_id)on delete cascade 
);


--insert data into tables
--insert data into tables

insert into users
values ('1','khush','sethia',TO_DATE('14-APR-2015', 'DD-MON-YYYY'),'y');

insert into users

values ('2','leland ','jacobson',TO_DATE('14-APR-1982', 'DD-MON-YYYY'),'n');

insert into users
values ('3','bella ','colley',TO_DATE('14-APR-1981', 'DD-MON-YYYY'),'n');

insert into users
values ('4','leopold ','pollard',TO_DATE('14-APR-1983', 'DD-MON-YYYY'),'n');

insert into users
values ('5','blessing ','schneider',TO_DATE('14-JAN-2000', 'DD-MON-YYYY'),'n');

insert into u_address
values ('1','14 alfred road, feltham,tw13 5dj','2');

insert into u_address
values ('2','35a fairhazel gardens, london,nw6 3qn','3');

insert into u_address
values ('3','232 higher lane, rainford,wa11 8nh','4');

insert into u_address
values ('4','53 north bank, belford,ne70 7lz','5');

insert into u_login
values ('1','khushsethia@gmail.com','25d55ad283aa400af464c76d713c07ad','1');

insert into u_login
values ('2','lelandjacobson@gmail.com','defac44447b57f152d14f30cea7a73cb','2');

insert into u_login
values ('3','bellacolley@gmail.com','2661b5362e4eed2c62d90080b91b329e','3');

insert into u_login
values ('4','leopoldpollard@gmail.com','1ee0a8ce9cd7e6971096ac9159260bf3','4');

insert into u_login
values ('5','blessingschneider@gmail.com','25d55ad283aa400af464c76d713c07ad','5');

insert into telephone
values ('1','0722625194','0722625196','1');

insert into telephone
values ('2','0778520861','','2');

insert into telephone
values ('3','0720556705','','3');

insert into telephone
values ('4','0720555520','','4');

insert into telephone
values ('5','0720555338','0722625194','5');

insert into product
values ('1','heart gold','ring','1000.99','15 carat gold ring with a quartz heart');

insert into product
values ('2','soul silver','ring','800.00','silver ring with a ruby square ');

insert into product
values ('3','emerald green','bracelet','2000.00','emerald stone, heart shaped on a silver chain');

insert into product
values ('4','golden feather','necklace ','1500.00','a rhodium feather on a silver chain');


insert into stock_warehouse
values ('1','20','1');

insert into stock_warehouse
values ('2','10','2');

insert into stock_warehouse
values ('3','15','3');

insert into stock_warehouse
values ('4','5','4');

insert into stores
values ('1','1','jj east','east london','5','1','1');

insert into stores
values ('2','1','jj east','east london','6','2','2');

insert into stores
values ('3','1','jj east','east london','1','3','3');

insert into stores
values ('4','1','jj east','east london','4','4','4');

insert into stores
values ('5','2','jj west','west london','0','1','1');

insert into stores
values ('6','2','jj west','west london','4','2','2');

insert into stores
values ('7','2','jj west','west london','4','3','3');

insert into stores
values ('8','2','jj west','west london','1','4','4');


insert into purchase
values ('1','2','1600','1','1','2');

insert into purchase
values ('2','1','800','2','2','2');

insert into purchase
values ('3','3','4500','4','3','5');

insert into purchase
values ('4','2','3000','4','4','4');

insert into purchase
values ('5','1','2000','3','5','3');


insert into bank
values ('1','208746','barclays');

insert into bank
values ('2','200053','close brothers');

insert into bank
values ('3','200054','schoders');

insert into bank
values ('4','200055','santander uk');


insert into banking_user_add 
values ('1','14 alfred road, feltham,tw13 5dj');

insert into banking_user_add 
values ('2','35a fairhazel gardens, london,nw6 3qn');

insert into banking_user_add 
values ('3','232 higher lane, rainford,wa11 8nh');

insert into banking_user_add 
values ('4','53 north bank, belford,ne70 7lz');


insert into users_banking_details
values ('1','5003830171874010','2','leland ','jacobson','1','1');

insert into users_banking_details
values ('2','6003830171874010','3','bella ','colley','2','2');

insert into users_banking_details
values ('3','7003830171874010','4','leopold ','pollard','3','3');

insert into users_banking_details
values ('4','8003830171874010','5','blessing ','schneider','4','4');


commit;